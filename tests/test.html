<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scroll to Fix Header</title>

    <link rel="stylesheet" href="../css/event-details.css">

</head>
<body>
    <header id="header">
        <p>Test Header</p>
    </header>

    <main id="main">
        <img src="../assets/events/freashmanorientation.jpg">
    </main>

    <script>

        function delay(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        // Get elements
        const header = document.getElementById("header");
        const main = document.getElementById("main");

        // Listen to scroll event
        window.addEventListener('scroll', async () => {
            console.log(`ScrollY offset: ${window.scrollY}`);

            // When scrolling down
            if (window.scrollY > 0) {
                // Shrink the main element's height as we scroll down
                main.classList.add("shrinking"); // Apply shrinking height animation
                header.classList.add("fixedHeader"); // Fix the header at the top
                await delay(500);
            } else {
                // When scrolling back to the top, restore the main element's height
                main.classList.remove("shrinking"); // Remove shrinking height animation
                header.classList.remove("fixedHeader"); // Remove fixed header
            }

            // Actual tested values - diff header elements with diff heigh require different offsets
            if (window.scrollY >= 200) {
                header.classList.add("addCoverImg")
            } else {
                header.classList.remove("addCoverImg")
            }
        });
    </script>
</body>
</html>
